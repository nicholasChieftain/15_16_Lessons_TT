**квест**
key = False # задаём статус  наличия ключа, т.е. нашел ли его персонаж или нет
door_status = False # задаём статус закрытия двери
strange_box = False # задаём статус наличия коробки
while door_status == False: # выполняем цикл, пока не откроем дверь
    print('Вы проснулись в комнате удивительно похожей на вашу, \n'
      'возможно, это и есть ваша комната. Вы видите дверь, была ли она здесь раньше?\n'
      'Вы не помните. Рядом с кроватью лежит ваш старый портфель, кто его сюда принес? \n'
      'А в углу стоит стол, на котором лежит что-то. \n'
      'Что вы будете делать? (Укажите предмет, который вы хотите изучить детальнее. \n'
      'Пишите предмет в именительном падеже, единственном числе, без пробелов) ') # печатаем начальные условия
    action = input('Что вы хотите изучить ?').lower() # спрашиваем дейсвтие игрока и приводим его к нижнему регистру, чтобы обработать все варианты
    if action == 'дверь': # если игрок решил проверить дверь
        print('Вы пробуете открыть дверь, но она не поддаётся. Хотите ли  вы заглянуть '
              'в замочную скважину ?')
        action = input('Да/Нет').lower() # у двери предлагаем еще один выбор
        if action == 'да':
            print('Вы видите, что замочная скважина чем-то забита, возможно, вам нужен ключ, чтобы открыть её.')
    if action == 'портфель' and strange_box == False: # если игрок решил проверить портфель первый раз
        print('Ваш старый потрфель. Заглянув в него, вы находите странную коробку.\n'
              'На верхней крышке коробки вы видите 4 цифры, которые можно двигать')
        print('Теперь у вас есть коробка(с ней можно взамодействовать)!') # игрок нашел коробку
        strange_box = True # меняем ее статус
    elif action == 'портфель' and strange_box == True: # если игрок заглядывает не в первый раз, т.е. у него уже есть коробка
        print('Кажется, здесь больше ничего нет')
    if action == 'коробка' and strange_box == True and key == False: # если игрок решил использовать коробку и она у него есть, но нет ключа
        print('На крышки коробки есть 4 цифры, которые можно двигать, хотите попробовать их покрутить?')
        action = input('Да/Нет').lower() # предлагаем еще один выбор
        if action == 'да':
            code = '' # создаём переменную для записи кода
            for number in range(1,5): # цикл из 4-х итераций
                action = input(f"Введите {number}-ую цифру") # используем f-строки для вывода информации о номере цифры
                code = code+action # записываем цифры, введенные пользователем
            if code == '1861': # если код введенный пользователем совпал
                print('Крышка медленно начинает сползать с коробки, после чего со звуком звонкой монеты \n'
                      'падает на пол.\n'
                      'Заглянув в коробку, вы видите ключ\n')
                print('Теперь у вас есть ключ(с ним можно взаимодействовать)!\n')
                key = True # теперь у игрока есть ключ
            else:
                print('Ничего не происходит')
    if action == 'стол': # если игрок решил проверить стол
        print('Подойдя к столу, вы замечаете белый лист бумаги, на котором что-то написано.')
        action = input('Прочитать написанное на листе?(Да/Нет)').lower() # даём еще один выбор
        if action == 'да':
            print('После пары попыток прочитать текст у вас наконец-то получается разобрать написанный текст.\n'
                  '\'Лишь тот, кто помнит год освобождения\n' # речь идет об отмене крепостного права на Руси(1861 год)
                  'простых крестьян от тяжести оков, сам\n'
                  'вправе вытащить себя из плена.\'')
    if action == 'ключ' and key == True: # Если игрок ввёл ключ и он у него есть
        action = input('Выберите предмет, на котором хотите использовать ключ').lower() # Игрок выбирает объект, с которым хочет взаимодействовать ключом
        if action == 'дверь': # если игрок выбрал дверь
            print('Хм, ключ подходит под замочную скважину.')
            action = input('Попробовать повернуть ключ?(Да/Нет)').lower() # даём выбор
            if action == 'да':
                print('Повернув ключ, вы слышите глухой звон замков двери. Кажется, дверь открыта')
                door_status = True # меняем статус двери, теперь программа выйдет из цикла
        else: # если ключ используем не на двери
            'Кажется, это не срабоатет'
print('Подталкнув дверь, вы начинаете ее открывать. По мере открывания двери к вам приходит осознание, что все это нереально.\n'
      'Когда дверь открывается полностью, вы открываете глаза, лежа в свой настоящей кровати, а на полу стоит ваш новый рюкзак.\n'
      'Кажется, это был всего лишь сон.') # вывод сообщения после выхода из цикла
